/*********************************************************************************************************************
* RT1064DVL6A Opensourec Library ����RT1064DVL6A ��Դ�⣩��һ�����ڹٷ� SDK �ӿڵĵ�������Դ��
* Copyright (c) 2022 SEEKFREE ��ɿƼ�
*
* ���ļ��� RT1064DVL6A ��Դ���һ����
*
* RT1064DVL6A ��Դ�� ���������
* �����Ը���������������ᷢ���� GPL��GNU General Public License���� GNUͨ�ù�������֤��������
* �� GPL �ĵ�3�棨�� GPL3.0������ѡ��ģ��κκ����İ汾�����·�����/���޸���
*
* ����Դ��ķ�����ϣ�����ܷ������ã�����δ�������κεı�֤
* ����û�������������Ի��ʺ��ض���;�ı�֤
* ����ϸ����μ� GPL
*
* ��Ӧ�����յ�����Դ���ͬʱ�յ�һ�� GPL �ĸ���
* ���û�У������<https://www.gnu.org/licenses/>
*
* ����ע����
* ����Դ��ʹ�� GPL3.0 ��Դ����֤Э�� ������������Ϊ���İ汾
* ��������Ӣ�İ��� libraries/doc �ļ����µ� GPL3_permission_statement.txt �ļ���
* ����֤������ libraries �ļ����� �����ļ����µ� LICENSE �ļ�
* ��ӭ��λʹ�ò����������� ���޸�����ʱ���뱣����ɿƼ��İ�Ȩ����������������
*
* �ļ�����          zf_device_imu660ra
* ��˾����          �ɶ���ɿƼ����޹�˾
* �汾��Ϣ          �鿴 libraries/doc �ļ����� version �ļ� �汾˵��
* ��������          IAR 8.32.4 or MDK 5.33
* ����ƽ̨          RT1064DVL6A
* ��������          https://seekfree.taobao.com/
*
* �޸ļ�¼
* ����              ����                ��ע
* 2022-09-21        SeekFree            first version
********************************************************************************************************************/
/*********************************************************************************************************************
* ���߶��壺
*                   ------------------------------------
*                   ģ��ܽ�            ��Ƭ���ܽ�
*                   // Ӳ�� SPI ����
*                   SCL/SPC           �鿴 zf_device_imu660ra.h �� IMU660RA_SPC_PIN �궨��
*                   SDA/DSI           �鿴 zf_device_imu660ra.h �� IMU660RA_SDI_PIN �궨��
*                   SA0/SDO           �鿴 zf_device_imu660ra.h �� IMU660RA_SDO_PIN �궨��
*                   CS                �鿴 zf_device_imu660ra.h �� IMU660RA_CS_PIN �궨��
*                   VCC               3.3V��Դ
*                   GND               ��Դ��
*                   ������������
*
*                   // ���� IIC ����
*                   SCL/SPC           �鿴 zf_device_imu660ra.h �� IMU660RA_SCL_PIN �궨��
*                   SDA/DSI           �鿴 zf_device_imu660ra.h �� IMU660RA_SDA_PIN �궨��
*                   VCC               3.3V��Դ
*                   GND               ��Դ��
*                   ������������
*                   ------------------------------------
********************************************************************************************************************/

#ifndef _imu660ra_1_h_
#define _imu660ra_1_h_

#include "zf_common_typedef.h"

// IMU660RA_USE_SOFT_IIC����Ϊ0��ʾʹ��Ӳ��SPI���� ����Ϊ1��ʾʹ������IIC����
// ������IMU660RA_USE_SOFT_IIC�������Ҫ�ȱ��벢���س��򣬵�Ƭ����ģ����Ҫ�ϵ�������������ͨѶ
#define IMU660RA_USE_SOFT_IIC         (1)                                       // Ĭ��ʹ��Ӳ�� SPI ��ʽ����


#if IMU660RA_USE_SOFT_IIC                                                       // ������ ��ɫ�����Ĳ�����ȷ�� ��ɫ�ҵľ���û���õ�
//====================================================���� IIC ����====================================================
#define IMU660RA_SOFT_IIC_DELAY_1    (100)                                       // ���� IIC ��ʱ����ʱ���� ��ֵԽС IIC ͨ������Խ��
#define IMU660RA_SCL_PIN_1            (C24)                                       // ���� IIC SCL ���� ���� IMU660RA �� SCL ����
#define IMU660RA_SDA_PIN_1            (C2)                                       // ���� IIC SDA ���� ���� IMU660RA �� SDA ����
//====================================================���� IIC ����====================================================
#else

//====================================================Ӳ�� SPI ����====================================================
#define IMU660RA_SPI_SPEED_1          (10 * 1000 * 1000)                          // Ӳ�� SPI ����
#define IMU660RA_SPI_1                (SPI_4)                                     // Ӳ�� SPI ��
#define IMU660RA_SPC_PIN_1            (SPI4_SCK_C23 )                             // Ӳ�� SPI SCK ����
#define IMU660RA_SDI_PIN_1            (SPI4_MOSI_C22)                             // Ӳ�� SPI MOSI ����
#define IMU660RA_SDO_PIN_1            (SPI4_MISO_C21)                             // Ӳ�� SPI MISO ����
//====================================================Ӳ�� SPI ����====================================================
#endif
#define IMU660RA_CS_PIN_1             (C20)                                       // CS Ƭѡ����
#define IMU660RA_CS_1(x)              ((x) ? (gpio_high(IMU660RA_CS_PIN)) : (gpio_low(IMU660RA_CS_PIN)))
    
#define IMU660RA_TIMEOUT_COUNT_1      (0x00FF)                                    // IMU660 ��ʱ����


//================================================���� imu660ra �ڲ���ַ================================================
#define IMU660RA_DEV_ADDR_1           (0x69)                                      // SA0�ӵأ�0x68 SA0������0x69 ģ��Ĭ������
#define IMU660RA_SPI_W_1              (0x00)
#define IMU660RA_SPI_R_1              (0x80)
    
#define IMU660RA_CHIP_ID_1            (0x00)
#define IMU660RA_PWR_CONF_1           (0x7C)
#define IMU660RA_PWR_CTRL_1           (0x7D)
#define IMU660RA_INIT_CTRL_1          (0x59)
#define IMU660RA_INIT_DATA_1          (0x5E)
#define IMU660RA_INT_STA_1            (0x21)
#define IMU660RA_ACC_ADDRESS_1        (0x0C)
#define IMU660RA_GYRO_ADDRESS_1       (0x12)
#define IMU660RA_ACC_CONF_1           (0x40)
#define IMU660RA_ACC_RANGE_1         (0x41)
#define IMU660RA_GYR_CONF_1           (0x42)
#define IMU660RA_GYR_RANGE_1          (0x43)

#define IMU660RA_ACC_SAMPLE_1        (0x02)                                      // ���ٶȼ�����
// ����Ϊ:0x00 ����������Ϊ:��2000dps     ��ȡ�������������� ���� 16.4       ����ת��Ϊ��������λ������ ��λΪ����/s
// ����Ϊ:0x01 ����������Ϊ:��1000dps     ��ȡ�������������� ���� 32.8       ����ת��Ϊ��������λ������ ��λΪ����/s
// ����Ϊ:0x02 ����������Ϊ:��500 dps     ��ȡ�������������� ���� 65.6       ����ת��Ϊ��������λ������ ��λΪ����/s
// ����Ϊ:0x03 ����������Ϊ:��250 dps     ��ȡ�������������� ���� 131.2      ����ת��Ϊ��������λ������ ��λΪ����/s
// ����Ϊ:0x04 ����������Ϊ:��125 dps     ��ȡ�������������� ���� 262.4      ����ת��Ϊ��������λ������ ��λΪ����/s

#define IMU660RA_GYR_SAMPLE_1         (0x00)                                      // ����������
// ����Ϊ:0x00 ���ٶȼ�����Ϊ:��2g         ��ȡ���ļ��ٶȼ����� ���� 16384   ����ת��Ϊ��������λ������ ��λ��g(m/s^2)
// ����Ϊ:0x01 ���ٶȼ�����Ϊ:��4g         ��ȡ���ļ��ٶȼ����� ���� 8192    ����ת��Ϊ��������λ������ ��λ��g(m/s^2)
// ����Ϊ:0x02 ���ٶȼ�����Ϊ:��8g         ��ȡ���ļ��ٶȼ����� ���� 4096    ����ת��Ϊ��������λ������ ��λ��g(m/s^2)
// ����Ϊ:0x03 ���ٶȼ�����Ϊ:��16g        ��ȡ���ļ��ٶȼ����� ���� 2048    ����ת��Ϊ��������λ������ ��λ��g(m/s^2)


extern int16 imu660ra_gyro_x_1, imu660ra_gyro_y_1, imu660ra_gyro_z_1;                   // ��������������      gyro (������)
extern int16 imu660ra_acc_x_1, imu660ra_acc_y_1, imu660ra_acc_z_1;                      // ������ٶȼ�����     acc (accelerometer ���ٶȼ�)


void  imu660ra_get_acc_1           (void);                                         // ��ȡ IMU660RA ���ٶȼ�����
void  imu660ra_get_gyro_1          (void);                                         // ��ȡ IMU660RA ����������
float imu660ra_acc_transition_1     (int16 acc_value);                              // �� IMU660RA ���ٶȼ�����ת��Ϊʵ����������
float imu660ra_gyro_transition_1   (int16 gyro_value);                             // �� IMU660RA ����������ת��Ϊʵ����������
uint8 imu660ra_init_1             (void);                                         // ��ʼ�� IMU660RA

#endif

